# Task 1

## Describe Components

### Prometheus Operator
- The Prometheus Operator simplifies the deployment and management of Prometheus instances in Kubernetes clusters, automating configuration and scaling based on cluster size and resource availability.

### Redundant Alertmanager
- Redundant Alertmanager enhances reliability by providing failover capabilities, ensuring alerts are delivered even if one instance fails, improving the resilience of alert notification systems.

### Prometheus Node Exporter
- Prometheus Node Exporter collects hardware and OS metrics from nodes in a Kubernetes cluster, offering visibility into system resources and performance at the node level.

### Kube-state-metrics
- Kube-state-metrics exposes Kubernetes object states via Prometheus metrics, enabling Prometheus to scrape and store detailed information about the state of Kubernetes objects such as pods, nodes, and deployments.

### Prometheus Blackbox Exporter
- Prometheus Blackbox Exporter allows Prometheus to probe external targets and services, facilitating the monitoring of external dependencies and services beyond the Kubernetes cluster.

### Prometheus Adapter for Kubernetes Metrics APIs
- The Prometheus Adapter translates Kubernetes Metrics APIs into Prometheus metrics, bridging the gap between Kubernetes-native metrics and those consumed by Prometheus for monitoring and alerting.

### Grafana
- Grafana serves as a visualization and analytics platform, providing interactive dashboards for visualizing Prometheus metrics, allowing users to create comprehensive views of their Kubernetes cluster's performance and health.

## Install Helm Charts

### `kubectl get po,sts,svc,pvc,cm` :

```shell
NAME                                                         READY   STATUS    RESTARTS   AGE
pod/alertmanager-monitoring-kube-prometheus-alertmanager-0   2/2     Running   0          20m
pod/monitoring-grafana-984dsfsk55-sld45                      3/3     Running   0          21m
pod/monitoring-kube-prometheus-operator-65dkaekf65-7gsv4     1/1     Running   0          21m
pod/monitoring-kube-state-metrics-6564dsfkas-5tv87           1/1     Running   0          21m
pod/monitoring-prometheus-node-exporter-mfwtw                1/1     Running   0          21m
pod/prometheus-monitoring-kube-prometheus-prometheus-0       2/2     Running   0          20m
pod/vault-0                                                  1/1     Running   4          20d
pod/vault-agent-injector-dmfkk15ww-ldfl5                     1/1     Running   4          20d
pod/my-python-app-0                                          1/1     Running   0          34s
pod/my-python-app-1                                          1/1     Running   0          34s
pod/my-python-app-2                                          1/1     Running   0          34s

NAME                                                                    READY   AGE
statefulset.apps/alertmanager-monitoring-kube-prometheus-alertmanager   1/1     20m
statefulset.apps/prometheus-monitoring-kube-prometheus-prometheus       1/1     20m
statefulset.apps/vault                                                  1/1     20d
statefulset.apps/my-python-app                                          3/3     34s

NAME                                              TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
service/alertmanager-operated                     ClusterIP   None             <none>        9093/TCP,9094/TCP,9094/UDP   15m
service/kubernetes                                ClusterIP   10.96.0.1        <none>        443/TCP                      34d
service/monitoring-grafana                        ClusterIP   10.103.79.49     <none>        80/TCP                       16m
service/monitoring-kube-prometheus-alertmanager   ClusterIP   10.109.161.202   <none>        9093/TCP,5000/TCP            16m
service/monitoring-kube-prometheus-operator       ClusterIP   10.97.108.36     <none>        443/TCP                      16m
service/monitoring-kube-prometheus-prometheus     ClusterIP   10.96.47.133     <none>        9090/TCP,5000/TCP            16m
service/monitoring-kube-state-metrics             ClusterIP   10.101.170.32    <none>        5000/TCP                     16m
service/monitoring-prometheus-node-exporter       ClusterIP   10.98.169.123    <none>        9100/TCP                     16m
service/prometheus-operated                       ClusterIP   None             <none>        9090/TCP                     15m
service/vault                                     ClusterIP   10.101.231.178   <none>        8200/TCP,8201/TCP            20d
service/vault-agent-injector-svc                  ClusterIP   10.109.243.250   <none>        443/TCP                      20d
service/vault-internal                            ClusterIP   None             <none>        8200/TCP,8201/TCP            20d
service/my-python-app                             ClusterIP   10.98.211.227    <none>        5000/TCP                     22s

NAME                                         STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistentvolumeclaim/data-my-python-app-0   Bound    pvc-ed528780-2e67-4787-abcb-9fb1d83262a6   1Gi        RWO            standard       6d13h
persistentvolumeclaim/data-my-python-app-1   Bound    pvc-62b951a9-44ac-4a18-9014-f85f1d729e42   1Gi        RWO            standard       6d12h
persistentvolumeclaim/data-my-python-app-2   Bound    pvc-11cecba2-d5d5-4386-b5f2-cfab5597285c   1Gi        RWO            standard       6d12h
```

### Explanation of each output:
- kubectl get po: Lists all Pods in the current namespace, showing their names, statuses, and other basic information.
- kubectl get sts: Displays StatefulSets in the current namespace, detailing their replicas, selectors, and status conditions.
- kubectl get svc: Shows Services available in the current namespace, including their types, cluster IPs, ports, and endpoints.
- kubectl get pvc: Lists Persistent Volume Claims (PVCs), indicating their names, capacities, access modes, statuses, and the storage classes they belong to.
- kubectl get cm: Reveals ConfigMaps in the current namespace, displaying their names, data sizes, and the age since they were last updated.

## Utilize Grafana Dashboards

### CPU and Memory Consumption
- CPU consumption: 0.011
- Memory consumption: 58 MiB

### Pods with Higher and Lower CPU Usage
- Highest Pod: prometheus-monitoring-kube-prometheus-prometheus-0 (0.1)
- Lowest Pod: alertmanager-monitoring-kube-prometheus-alertmanager-0 (0.002)

### Node Memory Usage
- Memory usage: 54.2% (2.8 GiB)

### Number of Pods and Containers
- Pods: 17
- Containters: 23 

### Network Usage of Pods 
- Received: 50.3 Kb/s
- Transmitted: 63.9 Kb/s

### Number of Active Alerts
- Active alerts: 9
